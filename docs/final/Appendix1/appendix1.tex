% ******************************* Thesis Appendix A ********************************
\chapter{Code Listings}
\label{sec:appendix}

\singlespacing

Included in this appendix are instructions on how to install OpenCV and SimpleCV on the Raspberry Pi, as well as a toolset for comparing optical flow methods, which includes code for: generating sample sequences, calculating idealised optical flow, and processing the output from OpenCVs optical flow methods

\lstinputlisting[caption=How to setup OpenCV on the Raspberry Pi,label=lst:opencv]{"../install opencv.md"}
\clearpage

%\lstinputlisting[caption=Makefile,label=lst:makefile,language=make]{../../experiments/comparison/Makefile.make}

%\lstinputlisting[caption=optical-flow.h,label=lst:optical-flow-h,language=C++]{"../../experiments/comparison/optical-flow.h"}
%\lstinputlisting[caption=optical-flow.cc,label=lst:optical-flow-cc,language=C++]{"../../experiments/comparison/optical-flow.cc"}

%\lstinputlisting[caption=lucas-kanade.h,label=lst:lucas-kanade-h,language=C++]{"../../experiments/comparison/lucas-kanade.h"}
%\lstinputlisting[caption=lucas-kanade.cc,label=lst:lucas-kanade-cc,language=C++]{"../../experiments/comparison/lucas-kanade.cc"}

%\lstinputlisting[caption=farneback.h,label=lst:farneback-h,language=C++]{"../../experiments/comparison/farneback.h"}
%\lstinputlisting[caption=optical-flow.cc,label=lst:optical-flow-cc,language=C++]{"../../experiments/comparison/farneback.cc"}

%\lstinputlisting[caption=simpleflow.h,label=lst:simpleflow-h,language=C++]{"../../experiments/comparison/simpleflow.h"}
%\lstinputlisting[caption=simpleflow.cc,label=lst:simpleflow-cc,language=C++]{"../../experiments/comparison/simpleflow.cc"}

\lstinputlisting[caption=Calculate average processing time per frame,label=lst:timings,language=Python]{"../../experiments/sample sequences/map/timings.py"}
\clearpage
\lstinputlisting[caption={Process vector field output from optical-flow},label=lst:process,language=Python]{"../../experiments/sample sequences/process.py"}
\clearpage

\lstinputlisting[caption=MATLAB code used to generate artifical sample sequences,label=lst:generate,language=MATLAB]{"../../experiments/sample sequences/generate.m"}
\clearpage
\lstinputlisting[caption=Calculate velocity field of a transfromation applied to an image,label=lst:velflow,language=MATLAB]{"../../experiments/sample sequences/map/1/velfield.m"}
\clearpage

%\lstinputlisting[caption=Online instron testing,label=lst:online-cc,language=C++]{"../../experiments/instron/online.cc"}
%\lstinputlisting[caption=Offline instron testing,label=lst:offline-cc,language=C++]{"../../experiments/instron/offline.cc"}
\onehalfspacing